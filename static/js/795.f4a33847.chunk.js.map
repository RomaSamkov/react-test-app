{"version":3,"file":"static/js/795.f4a33847.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/modules/MyBooks/Container/container.module.css?d829","modules/MyBooks/Container/Container.jsx","shared/hooks/useForm.js","webpack://react-homework-template/./src/modules/MyBooks/FormAddBook/form-add-book.module.css?f65a","modules/MyBooks/FormAddBook/initialState.js","modules/MyBooks/FormAddBook/FormAddBook.jsx","webpack://react-homework-template/./src/modules/MyBooks/BookList/book-list.module.css?0e4a","modules/MyBooks/BookList/BookList.jsx","redux/filter/filter-selectors.js","webpack://react-homework-template/./src/modules/MyBooks/my-books.module.css?456e","modules/MyBooks/MyBooks.jsx","pages/MyBooksPage/MyBooksPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"container\":\"container_container__hbpDN\",\"title\":\"container_title__yXjoA\"};","import PropTypes from \"prop-types\";\n\nimport styles from \"./container.module.css\";\n\nconst Container = ({title, children}) => {\n    return (\n        <div className={styles.container}>\n            <h2 className={styles.title}>{title}</h2>\n            {children}\n        </div>\n    )\n}\n\nexport default Container;\n\nContainer.propTypes = {\n    title: PropTypes.string.isRequired,\n    children: PropTypes.node,\n}","import { useState } from \"react\";\n\nconst useForm = ({initialState, onSubmit}) => {\n    const [state, setState] = useState({...initialState});\n\n    const handleChange = ({target}) => {\n        const { name, value, type, checked } = target;\n        const newValue = (type === \"checkbox\") ? checked : value;\n        setState(prevState => ({\n            ...prevState,\n            [name]: newValue\n        }))\n    }\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        onSubmit({...state});\n        setState({...initialState})\n    };\n\n    return {state, setState, handleChange, handleSubmit}\n}\n\nexport default useForm;","// extracted by mini-css-extract-plugin\nexport default {\"group\":\"form-add-book_group__h2qZ5\",\"label\":\"form-add-book_label__lhOuF\",\"input\":\"form-add-book_input__kI5LD\"};","export const initialState = {\n    title: \"\",\n    author: \"\",\n    favorite: false,\n}","import useForm from '../../../shared/hooks/useForm';\n\nimport styles from './form-add-book.module.css';\n\nimport { initialState } from './initialState';\n\nconst FormAddBook = ({ onSubmit }) => {\n  const { state, handleChange, handleSubmit } = useForm({\n    initialState,\n    onSubmit,\n  });\n\n  const { title, author, favorite } = state;\n\n  return (\n    <form action=\"\" onSubmit={handleSubmit}>\n      <div className={styles.group}>\n        <label className={styles.label} htmlFor=\"\">\n          Название:\n        </label>\n        <input\n          value={title}\n          name=\"title\"\n          onChange={handleChange}\n          className={styles.input}\n          type=\"text\"\n          placeholder=\"Название книги\"\n        />\n      </div>\n      <div className={styles.group}>\n        <label className={styles.label} htmlFor=\"\">\n          Автор:\n        </label>\n        <input\n          value={author}\n          name=\"author\"\n          onChange={handleChange}\n          className={styles.input}\n          type=\"text\"\n          placeholder=\"Автор книги\"\n        />\n      </div>\n      <div className={styles.group}>\n        <label className={styles.label} htmlFor=\"\">\n          Любимая:\n        </label>\n        <input\n          name=\"favorite\"\n          checked={favorite}\n          onChange={handleChange}\n          type=\"checkbox\"\n        />\n      </div>\n      <div className={styles.group}>\n        <button type=\"submit\">Добавить</button>\n      </div>\n    </form>\n  );\n};\n\nexport default FormAddBook;\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"book-list_item__-wOGI\",\"btn\":\"book-list_btn__I4W30\"};","import styles from \"./book-list.module.css\";\n\nconst BookList = ({ books, removeBook }) => {\n    const elements = books.map(({ id, title, author }) => (\n        <li key={id}\n            className={styles.item}>{title}. Автор: {author}.\n            <button type=\"button\" className={styles.btn}\n                onClick={() => removeBook(id)}>Удалить</button>\n        </li>\n    ));\n\n    return (\n        <ul>\n            {elements}\n        </ul>\n    )\n}\n\nexport default BookList;","export const getFilter = ({filter}) => filter;","// extracted by mini-css-extract-plugin\nexport default {\"books\":\"my-books_books__JQoYc\"};","import { useSelector, useDispatch } from 'react-redux';\n\nimport Container from './Container';\nimport FormAddBook from './FormAddBook';\nimport BookList from './BookList';\n\nimport { setFilter } from '../../redux/filter/filter-actions';\nimport { getFilter } from '../../redux/filter/filter-selectors';\n\nimport styles from './my-books.module.css';\nimport {\n  useAddBookMutation,\n  useGetBooksQuery,\n  useRemoveBookMutation,\n} from 'redux/books/booksApi';\n\nconst MyBooks = () => {\n  const { data = [], isLoading, isError } = useGetBooksQuery();\n  // eslint-disable-next-line\n  const [addBook, addInfo] = useAddBookMutation();\n  // eslint-disable-next-line\n  const [removeBook, removeInfo] = useRemoveBookMutation();\n\n  const filter = useSelector(getFilter);\n\n  const dispatch = useDispatch();\n\n  const onAddBook = newBook => {\n    addBook(newBook).unwrap();\n  };\n\n  const onRemoveBook = id => {\n    removeBook(id).unwrap();\n  };\n\n  const onSetFilter = ({ target }) => {\n    dispatch(setFilter(target.value));\n  };\n\n  return (\n    <div className={styles.books}>\n      {isLoading && <p>...Loading Books</p>}\n      {isError && <p>...Error load Books</p>}\n      <Container title=\"Добавить книгу\">\n        <FormAddBook onSubmit={onAddBook} />\n      </Container>\n      <Container title=\"Список книг\">\n        <input\n          onChange={onSetFilter}\n          value={filter}\n          name=\"filter\"\n          type=\"text\"\n          placeholder=\"Введите название \"\n        />\n        <BookList books={data} removeBook={onRemoveBook} />\n      </Container>\n    </div>\n  );\n};\n\nexport default MyBooks;\n","import MyBooks from './../../modules/MyBooks/MyBooks';\n\nconst MyBooksPage = () => {\n\n    return (\n        <div className=\"container\">\n            <MyBooks />\n        </div>\n    )\n}\n\nexport default MyBooksPage;"],"names":["_ref","title","children","_jsxs","className","styles","_jsx","initialState","onSubmit","_useState","useState","_objectSpread","_useState2","_slicedToArray","state","setState","handleChange","_ref2","target","name","value","type","checked","newValue","prevState","_defineProperty","handleSubmit","e","preventDefault","author","favorite","_useForm","useForm","action","htmlFor","onChange","placeholder","books","removeBook","elements","map","id","onClick","getFilter","filter","_useGetBooksQuery","useGetBooksQuery","_useGetBooksQuery$dat","data","isLoading","isError","_useAddBookMutation","useAddBookMutation","_useAddBookMutation2","addBook","_useRemoveBookMutatio","useRemoveBookMutation","_useRemoveBookMutatio2","useSelector","dispatch","useDispatch","Container","FormAddBook","newBook","unwrap","setFilter","BookList","MyBooks"],"sourceRoot":""}